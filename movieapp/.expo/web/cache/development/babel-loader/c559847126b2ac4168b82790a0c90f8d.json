{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jonas\\\\Desktop\\\\React_Native\\\\Reactseals-Movie-Review-Android-App\\\\movieapp\\\\components\\\\Browse.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport axios from 'axios';\nexport default function Browse(_ref) {\n  var navigation = _ref.navigation;\n  var imageroot = \"https://image.tmdb.org/t/p/w185\";\n  var searchroot = \"https://api.tmdb.org/3/movie/\";\n  var videoend = \"/videos?api_key=d24c52c68333a633aa24bd3c71091439\";\n  var searchend = \"?api_key=d24c52c68333a633aa24bd3c71091439\";\n\n  var _useState = useState({\n    genresDone: \"false\",\n    moviesDone: \"false\",\n    movies: [],\n    genres: [],\n    results: []\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var getGenres = function getGenres() {\n    axios(\"https://api.tmdb.org/3/genre/movie/list?api_key=d24c52c68333a633aa24bd3c71091439\").then(function (resp) {\n      setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          genres: resp.data.genres,\n          genresDone: \"true\"\n        });\n      });\n    });\n  };\n\n  var getMovies = function getMovies(genreID) {\n    axios(\"https://api.themoviedb.org/3/discover/movie?api_key=d24c52c68333a633aa24bd3c71091439&with_genres=\" + genreID).then(function (resp) {\n      var temp = state.movies;\n      temp.push(resp.data.results);\n      setState(function (prevState) {\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          movies: temp\n        });\n      });\n    });\n  };\n\n  var getVideo = function getVideo(id) {\n    axios(searchroot + id + videoend).then(function (_ref2) {\n      var data = _ref2.data;\n      openDetails(id, data.results[0].key);\n    });\n  };\n\n  var openDetails = function openDetails(id, video) {\n    axios(searchroot + id + searchend).then(function (_ref3) {\n      var data = _ref3.data;\n      navigation.navigate('Details', {\n        original_title: data.original_title,\n        vote_average: data.vote_average,\n        overview: data.overview,\n        selectedVideo: video\n      });\n    });\n  };\n\n  if (state.genresDone == \"false\") {\n    getGenres();\n  }\n\n  if (state.genresDone == \"true\" && state.moviesDone == \"false\") {\n    state.genres.forEach(function (i) {\n      getMovies(i.id);\n    });\n    setState(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        moviesDone: \"true\"\n      });\n    });\n  }\n\n  if (state.movies.length == state.genres.length) {\n    return React.createElement(ImageBackground, {\n      source: require(\"../assets/bg1.jpg\"),\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, React.createElement(TouchableHighlight, {\n      onPress: function onPress() {\n        return navigation.navigate('Search');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }, React.createElement(Text, {\n      style: styles.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }\n    }, \"Search\"))), React.createElement(ScrollView, {\n      style: styles.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, state.genres.map(function (i, index) {\n      return React.createElement(View, {\n        key: i.id,\n        style: styles.result,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.results,\n        horizontal: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 19\n        }\n      }, state.movies[index].map(function (ii) {\n        return React.createElement(TouchableHighlight, {\n          key: ii.id,\n          onPress: function onPress() {\n            return getVideo(ii.id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }\n        }, React.createElement(View, {\n          key: ii.id,\n          style: styles.result,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 27\n          }\n        }, React.createElement(Image, {\n          source: {\n            uri: imageroot + ii.poster_path\n          },\n          style: {\n            height: 250,\n            width: 185\n          },\n          resizeMode: \"cover\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }\n        })));\n      })), React.createElement(Text, {\n        style: styles.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }\n      }, \"  \", i.name, \"  \"));\n    })));\n  } else {\n    return React.createElement(ImageBackground, {\n      source: require(\"../assets/bg1.jpg\"),\n      style: {\n        width: '100%',\n        height: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.main,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, React.createElement(TouchableHighlight, {\n      onPress: function onPress() {\n        return navigation.navigate('Search');\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.search,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 19\n      }\n    }, \"Search\"))), React.createElement(ScrollView, {\n      style: styles.results,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, state.genres.map(function (i, index) {\n      return React.createElement(View, {\n        key: i.id,\n        style: styles.result,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.heading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }\n      }, \"  \", i.name, \"  \"));\n    })));\n  }\n}\nvar styles = StyleSheet.create({\n  main: {\n    padding: 30\n  },\n  search: {\n    fontSize: 20,\n    color: 'white',\n    fontWeight: '300',\n    width: 200,\n    padding: 10,\n    marginLeft: 50,\n    marginVertical: 10,\n    borderColor: 'white',\n    borderRadius: 30,\n    borderWidth: 1,\n    textAlign: 'center'\n  },\n  results: {\n    flex: 1\n  },\n  result: {\n    flex: 1,\n    width: '100%',\n    marginBottom: 0\n  },\n  heading: {\n    fontSize: 18,\n    fontWeight: '700',\n    padding: 25,\n    color: 'white',\n    backgroundColor: 'black'\n  },\n  popup: {\n    flex: 1,\n    justifyContent: 'center',\n    padding: 20,\n    backgroundColor: 'black'\n  },\n  poptitle: {\n    color: 'white',\n    fontSize: 34,\n    fontWeight: '700',\n    marginBottom: 5\n  },\n  poptitle2: {\n    color: 'white',\n    fontSize: 20,\n    fontWeight: '700',\n    marginBottom: 5\n  },\n  backBtn: {\n    fontSize: 20,\n    color: 'white',\n    fontWeight: '300',\n    width: 200,\n    padding: 10,\n    marginTop: 20,\n    marginHorizontal: 50,\n    borderColor: 'white',\n    borderRadius: 30,\n    borderWidth: 1,\n    textAlign: 'center'\n  },\n  trailer: {\n    fontSize: 20,\n    color: 'white',\n    fontWeight: '700',\n    width: '100%',\n    padding: 10,\n    marginVertical: 10,\n    textAlign: 'center'\n  },\n  modal: {\n    color: 'black'\n  },\n  poptxt: {\n    color: 'white'\n  }\n});","map":{"version":3,"sources":["C:/Users/Jonas/Desktop/React_Native/Reactseals-Movie-Review-Android-App/movieapp/components/Browse.js"],"names":["React","useState","useEffect","axios","Browse","navigation","imageroot","searchroot","videoend","searchend","genresDone","moviesDone","movies","genres","results","state","setState","getGenres","then","resp","prevState","data","getMovies","genreID","temp","push","getVideo","id","openDetails","key","video","navigate","original_title","vote_average","overview","selectedVideo","forEach","i","length","require","width","height","styles","main","search","map","index","result","ii","uri","poster_path","heading","name","StyleSheet","create","padding","fontSize","color","fontWeight","marginLeft","marginVertical","borderColor","borderRadius","borderWidth","textAlign","flex","marginBottom","backgroundColor","popup","justifyContent","poptitle","poptitle2","backBtn","marginTop","marginHorizontal","trailer","modal","poptxt"],"mappings":"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","sourcesContent":["import React, {useState , useEffect} from 'react';  \r\nimport { ScrollView, StyleSheet, Text, View, ImageBackground, TouchableHighlight, Image, Modal, BackHandler, Alert} from 'react-native';  \r\nimport axios from 'axios';\r\n  \r\nexport default function Browse({navigation}) {\r\n    const imageroot = \"https://image.tmdb.org/t/p/w185\"\r\n    const searchroot = \"https://api.tmdb.org/3/movie/\"\r\n    const videoend = \"/videos?api_key=d24c52c68333a633aa24bd3c71091439\"\r\n    const searchend = \"?api_key=d24c52c68333a633aa24bd3c71091439\"\r\n    const [state, setState] = useState({\r\n      genresDone: \"false\",\r\n      moviesDone: \"false\",\r\n      movies: [],\r\n      genres: [],\r\n      results: [],\r\n    });\r\n\r\n    const getGenres = () => {\r\n      axios(\"https://api.tmdb.org/3/genre/movie/list?api_key=d24c52c68333a633aa24bd3c71091439\").then(resp => {\r\n        setState(prevState => { return { ...prevState, genres: resp.data.genres, genresDone: \"true\" }})})\r\n    }\r\n\r\n    const getMovies = genreID => {\r\n      axios(\"https://api.themoviedb.org/3/discover/movie?api_key=d24c52c68333a633aa24bd3c71091439&with_genres=\" + genreID).then(resp => {\r\n        let temp = state.movies\r\n        temp.push(resp.data.results)\r\n        setState(prevState => {return { ...prevState, movies: temp}})})\r\n    }\r\n\r\n    const getVideo = id => {\r\n      axios(searchroot + id + videoend).then(({ data }) => {openDetails(id,data.results[0].key)})\r\n    }\r\n  \r\n    const openDetails = (id,video) => {\r\n      axios(searchroot + id + searchend).then(({ data }) => {\r\n        navigation.navigate('Details', {\r\n          original_title: data.original_title, \r\n          vote_average: data.vote_average,\r\n          overview: data.overview,\r\n          selectedVideo: video })}) \r\n    }\r\n\r\n    if(state.genresDone == \"false\"){getGenres()}\r\n    if(state.genresDone == \"true\" && state.moviesDone == \"false\")\r\n    {\r\n      state.genres.forEach(i => {\r\n        getMovies(i.id)\r\n      });\r\n      setState(prevState => {return { ...prevState, moviesDone: \"true\"}})\r\n    }\r\n    \r\n    if(state.movies.length == state.genres.length){\r\n      return ( \r\n        <ImageBackground source={require('../assets/bg1.jpg')} style={{width: '100%', height: '100%'}}> \r\n            <View style={styles.main}>\r\n              <TouchableHighlight onPress={() => navigation.navigate('Search')}>\r\n                    <Text style={styles.search}>Search</Text>\r\n              </TouchableHighlight>  \r\n            </View>\r\n          <ScrollView style={styles.results}>\r\n              { state.genres.map((i,index) => (\r\n                <View key={i.id} style={styles.result}>\r\n                  <ScrollView style={styles.results} horizontal={true}>\r\n                      { state.movies[index].map(ii => (\r\n                        <TouchableHighlight key={ii.id} onPress={ () => getVideo(ii.id)}>\r\n                          <View key={ii.id} style={styles.result}>\r\n                            <Image \r\n                                source={{ uri: imageroot + ii.poster_path}}\r\n                                style={{height: 250,width: 185}}\r\n                                resizeMode=\"cover\"/>\r\n                          </View>\r\n                        </TouchableHighlight>\r\n                      ))}\r\n                    </ScrollView> \r\n                  <Text style={styles.heading}>  {i.name}  </Text>\r\n                </View>\r\n              ))}\r\n            </ScrollView> \r\n        </ImageBackground>\r\n        );  \r\n    }\r\n    else{\r\n      return ( \r\n        <ImageBackground source={require('../assets/bg1.jpg')} style={{width: '100%', height: '100%'}}> \r\n          <View style={styles.main}>\r\n            <TouchableHighlight onPress={() => navigation.navigate('Search')}>\r\n                  <Text style={styles.search}>Search</Text>\r\n            </TouchableHighlight>  \r\n          </View>\r\n          <ScrollView style={styles.results}>\r\n              { state.genres.map((i,index) => (\r\n                <View key={i.id} style={styles.result}>\r\n                  {/*console.log(i.name + \" \" + i.id)*/} \r\n                  <Text style={styles.heading}>  {i.name}  </Text>\r\n                </View>\r\n              ))}\r\n            </ScrollView> \r\n        </ImageBackground>\r\n        );  \r\n    }\r\n  }  \r\n\r\n  const styles = StyleSheet.create({\r\n    main: {\r\n      padding: 30,\r\n    },\r\n    search: {\r\n      fontSize: 20, \r\n      color: 'white', \r\n      fontWeight: '300',\r\n      width: 200, \r\n      padding: 10, \r\n      marginLeft: 50, \r\n      marginVertical: 10, \r\n      borderColor: 'white', \r\n      borderRadius: 30, \r\n      borderWidth: 1, \r\n      textAlign: 'center' \r\n    },\r\n    results: {\r\n      flex: 1\r\n    },\r\n    result: {\r\n      flex: 1,\r\n      width: '100%',\r\n      marginBottom: 0,\r\n    },\r\n    heading: {\r\n      fontSize: 18,\r\n      fontWeight: '700',\r\n      padding: 25,\r\n      color: 'white',\r\n      backgroundColor: 'black'\r\n    },\r\n    popup: {\r\n      flex: 1,\r\n      justifyContent: 'center',\r\n      padding: 20,\r\n      backgroundColor: 'black',\r\n    },\r\n    poptitle: {\r\n      color: 'white',\r\n      fontSize: 34,\r\n      fontWeight: '700',\r\n      marginBottom: 5\r\n    },\r\n    poptitle2: {\r\n      color: 'white',\r\n      fontSize: 20,\r\n      fontWeight: '700',\r\n      marginBottom: 5\r\n    },\r\n    backBtn: {\r\n      fontSize: 20,\r\n      color: 'white',\r\n      fontWeight: '300',\r\n      width: 200,\r\n      padding: 10,\r\n      marginTop: 20,\r\n      marginHorizontal: 50,\r\n      borderColor: 'white',\r\n      borderRadius: 30,\r\n      borderWidth: 1,\r\n      textAlign: 'center' \r\n    },\r\n    trailer: {\r\n      fontSize: 20,\r\n      color: 'white',\r\n      fontWeight: '700',\r\n      width: '100%',\r\n      padding: 10,\r\n      marginVertical: 10,\r\n      textAlign: 'center'\r\n    },\r\n    modal: {\r\n      color: 'black'\r\n    },\r\n    poptxt: {\r\n      color: 'white'\r\n    }\r\n  });"]},"metadata":{},"sourceType":"module"}